{
  "$jason": {
    "head": {
      "title": "Giffy Merchant",
      "description": "This app enable merchant to  accept digital gift card powered by Giffy",
      "actions": {
        "$load": {
          "type": "$network.request",
          "options": {
            "url": "https://ptsv2.com/t/giffynet/post",
            "method": "post",
            "header" : {
              "Authorization" : "Bearer {{$global.jwt_token}}",
              "content_type": "json"
            },
            "data": {
              "dummy": "test"
            }
          },
          "success": {
            "type": "$render"
          },
          "error": {
            "type": "$util.toast",
            "options": {
              "text": "Unable to validate session token. Please activate this device."
            }
          }
        }
      }
    },
    "body": {
      "background": "#ffffff",
      "header": {
        "title": "Giffy Merchant",
        "style": {
          "size": "18"
        }
      },
      "sections": [{
        "items": [{
          "type": "vertical",
          "style": {
            "align": "center",
            "padding": "20",
            "border": "none"
          },
          "components": [{
            "type": "image",
            "url": "https://giffynet.github.io/jasonelle/giffy_circle_small.png",
            "style": {
              "width": "100",
              "height": "100"
            }
          },{
            "type": "space",
            "style": {
              "height": "25"
            }
          },{
            "type": "textfield",
            "name": "device_id",
            "value": "",
            "placeholder": "Enter Device ID"
          },{
            "type": "textfield",
            "name": "activation_code",
            "value": "",
            "placeholder": "Enter Activation Code"
          },{
            "type": "space",
            "style": {
              "height": "25"
            }
          },{
            "type": "button",
            "text": "Activate",
            "style": {
              "background": "#379ce9",
              "color": "#000000",
              "height": "50",
              "size": "18"
            },
            "action" : {
              "type": "$network.request",
              "options": {
                "url": "https://ptsv2.com/t/giffynet/post",
                "method": "post",
                "header" : {
                  "content_type": "json"
                },
                "data": {
                  "device_id": "{{$get.device_id}}",
                  "activation_code": "{{$get.activation_code}}"
                }
              },
              "success": {
                "type": "$global.set",
                "options": {
                  "jwt_token": "{{$jason.jwt_token}}",
                  "default_currency": "{{$jason.default_currency}}"
                }
              },
              "error": {
                "type": "$global.reset",
                "options": {
                  "items": ["jwt_token"]
                }
              }
            }
          }]
        }]
      }]
    }
  }
}
